{% macro form_book(action_url, book = None, genres = None)%}
<form action="{{ action_url }}" method="POST" enctype="multipart/form-data" style="background-color: #1a2a4a; padding: 30px; border: 2px solid #d4af37; border-radius: 8px; margin-top: 20px;">
  <div class="mb-3">
    <label for="name" class="form-label" style="color: #d4af37;">Название</label>
    <input
      name="name"
      type="text"
      class="form-control"
      id="name"
      value="{{book.name or ''}}"
      required
      style="background-color: #0f1b3c; color: #ffffff; border-color: #d4af37;"      
    />
  </div>
  <div class="mb-3">
    <label for="author" class="form-label" style="color: #d4af37;">Автор</label>
    <input
      name="author"
      type="text"
      class="form-control"
      id="author"
      value="{{book.author or ''}}"
      required
      style="background-color: #0f1b3c; color: #ffffff; border-color: #d4af37;"      
    />
  </div>
  <div class="mb-3">
    <label for="description" class="form-label" style="color: #d4af37;">Краткое описание</label>
    <input
      name="description"
      type="text"
      class="form-control"
      id="description"
      value="{{book.description or ''}}"
      required
      style="background-color: #0f1b3c; color: #ffffff; border-color: #d4af37;"    
    />
  </div>
  <div class="mb-3">
    <label for="year" class="form-label" style="color: #d4af37;">Год издания</label>
    <input
      name="year"
      type="text"
      class="form-control"
      id="year"
      value="{{book.year or ''}}  "
      required
      style="background-color: #0f1b3c; color: #ffffff; border-color: #d4af37;"      
    />
  </div>
  <div class="mb-3">
    <label for="publishing" class="form-label" style="color: #d4af37;">Издательство</label>
    <input
      name="publishing"
      type="text"
      class="form-control"
      id="publishing"
      value="{{book.publishing or ''}}"
      required
      style="background-color: #0f1b3c; color: #ffffff; border-color: #d4af37;"      
    />
  </div>
  <div class="mb-3">
    <label for="pages" class="form-label" style="color: #d4af37;">Объем</label>
    <input
      name="pages"
      type="text"
      class="form-control"
      id="pages"
      value="{{book.pages or ''}}"
      required
      style="background-color: #0f1b3c; color: #ffffff; border-color: #d4af37;"      
    />
  </div>
  <div class="mb-3">
      <label for="genres" class="form-label" style="color: #d4af37;">Жанры</label>
      <select class="form-control" name="genres" id="genres" multiple {% if request.endpoint == 'create' %} required {% endif %} style="background-color: #0f1b3c; color: #ffffff; border-color: #d4af37;">
          {% for genre in genres %}
          <option value="{{ genre.id }}" {% if book and genre.id in book.genre_ids %}selected{% endif %}>{{ genre.name }}</option>
          {% endfor %}
      </select>
  </div>
  <button type="submit" class="btn" style="background-color: #d4af37; color: #0f1b3c; font-weight: bold; width: 100%;">Сохранить</button>
</form>
{% endmacro %}
